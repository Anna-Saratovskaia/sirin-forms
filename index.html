<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Forms</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div class="outer-container">
      <div class="hero-photo">
        <div class="baseplate">
          <img src="sirin-white.png" />
          <h1>SIRIN LTD</h1>
        </div>

        <span class="photo-credit-info"
          >Photo by
          <a href="https://unsplash.com/@haliewestphoto">Halie West</a> on
          <a href="https://unsplash.com/">Uplash</a></span
        >
      </div>
      <form>
        <div class="invitation">
          <p class="invitation-text">
            Я читал в одной книге, что, когда станет плохо И над миром взойдут
            <em>ледоруб да пила</em> Они снимутся c ветки, они взовьются в небо
            И возьмут <em>нас c тобою</em> под тугие крыла.
          </p>
        </div>
        <div class="form-inputs">
          <h2 class="form-heading">Let's do this!</h2>
          <div class="inputs-row">
            <p>
              <label for="first-name">FIRST NAME</label>
              <input
                type="text"
                id="first-name"
                name="first-name"
                maxlength="20"
              />
            </p>

            <p>
              <label for="last-name">LAST NAME</label>
              <input
                type="text"
                id="last-name"
                name="last-name"
                minlength="1"
                maxlength="20"
              />
            </p>
          </div>
          <div class="inputs-row">
            <p>
              <label for="email">EMAIL</label>
              <input type="email" id="email" name="email" minlength="7" />
            </p>

            <p>
              <label for="tel">PHONE NUMBER</label>
              <input
                type="tel"
                id="tel"
                name="tel"
                maxlength="15"
                pattern="[0-9]{1,15}"
              />
            </p>
          </div>

          <div class="inputs-row">
            <p class="pwd">
              <label for="pwd">PASSWORD</label>
              <input
                type="password"
                id="pwd"
                name="pwd"
                class="error"
                pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$"
                required
              />
              <span class="pwd-rules"
                >Your password should include minimum eight characters, at least
                one uppercase letter, one lowercase letter and one number.</span
              >
              <span class="password-mismatch">*Passwords do not match</span>
            </p>

            <p class="pwd">
              <label for="confirm-pwd">CONFIRM PASSWORD</label>
              <input
                type="password"
                id="confirm-pwd"
                name="confirm-password"
                class="error"
                required
              />
            </p>
          </div>
        </div>
        <div class="submit-area">
          <button type="submit">Create Account</button>
          <p>Already have an account?<a href="#"> Log in</a></p>
        </div>
      </form>
    </div>
    <script>
      const pwd = document.querySelector("#pwd");
      const confirmPwd = document.querySelector("#confirm-pwd");
      const submit = document.querySelector("[type='submit']");
      const pwdRules = document.querySelector(".pwd-rules");
      const passwordMismath = document.querySelector(".password-mismatch");

      // choose all input fields

      const firstName = document.querySelector("#first-name");
      const lastName = document.querySelector("#last-name");
      const email = document.querySelector("#email");
      const tel = document.querySelector("#tel");

      let checkPasswordsEqual = function (e) {
        if (pwd.value === confirmPwd.value) {
          passwordMismath.style.display = "none";
          pwd.classList.remove("error");
          confirmPwd.classList.remove("error");
        } else {
          passwordMismath.style.display = "block";
          pwd.classList.add("error");
          confirmPwd.classList.add("error");
          pwdRules.style.color = "red";
        }

        if (pwd.value === confirmPwd.value) {
          pwdRules.style.color = "black";
        }
      };
      pwd.addEventListener("input", checkPasswordsEqual);
      confirmPwd.addEventListener("input", checkPasswordsEqual);

      submit.addEventListener("click", function (e) {
        e.preventDefault();
        if (
          !pwd.validity.valid ||
          !confirmPwd.validity.valid ||
          !email.validity.valid ||
          !tel.validity.valid
        ) {
          alert("Check your spelling!");
        } else if (pwd.value === confirmPwd.value) {
          firstName.value = "";
          lastName.value = "";
          email.value = "";
          tel.value = "";
          pwd.value = "";
          confirmPwd.value = "";

          alert("You succesfully created account");
        } else {
          alert("Passwords do not match or your password is incorrect.");
        }
      });
    </script>
  </body>
</html>
